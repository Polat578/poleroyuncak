<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>POLER OYUNCAK – Yakında</title>
  <meta name="description" content="POLER OYUNCAK – Çok yakında yayındayız." />
  <link rel="icon" href="/favicon.ico" />
  <style>
    :root {
      --bg: #ffffff;
      --fg: #0f172a;
      --accent: #0b3d91;
      --muted: #64748b;
      --border: rgba(15,23,42,.06);
    }
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: var(--bg); color: var(--fg);
      display: flex; align-items: center; justify-content: center; flex-direction: column;
      min-height: 100vh; padding: 0 24px;
    }

    .wrap { text-align: center; max-width: 780px; width: 100%; }

    .logo { display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 12px; }
    .logo img {
      height: clamp(280px, 40vw, 380px); width: auto; display: block;
      opacity: 0; animation: fadeInGlow 2s ease-out forwards;
      background: transparent;
      filter: brightness(1.05) contrast(1.05) saturate(1.1);
    }

    @keyframes fadeInGlow {
      0%   { opacity: 0; filter: brightness(0.6) blur(2px); transform: scale(0.95) translateY(20px); }
      60%  { opacity: 0.85; filter: brightness(1.2) contrast(1.1); transform: scale(1.02) translateY(0); }
      100% { opacity: 1; filter: brightness(1.1) contrast(1.05); transform: scale(1); }
    }

    h1 {
      margin: 10px 0 4px; font-weight: 800;
      font-size: clamp(28px, 6.5vw, 44px); line-height: 1.1;
      letter-spacing: .01em;
      color: #111827;
    }
    .sub { margin-top: 4px; font-size: clamp(14px, 2.3vw, 16px); color: var(--muted); }
    footer { margin-top: 20px; font-size: 12px; color: #94a3b8; }

    @media (prefers-color-scheme: dark) {
      :root { --bg: #0b1220; --fg: #e5e7eb; --muted:#cbd5e1; }
      h1 { color:#e5e7eb; }
      footer { color: #94a3b8; }
    }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="block" aria-labelledby="headline">
      <div class="logo">
        <img src="/assets/logso.png" alt="POLER OYUNCAK Logosu" />
      </div>

      <h1 id="headline">YAKINDA HİZMETİNİZDEYİZ</h1>
      <p class="sub" id="sub">Yeni web sitemizi hazırlıyoruz. Çok yakında buradayız.</p>

      <footer>
        © <span id="y"></span> POLER OYUNCAK • Tüm hakları saklıdır.
      </footer>
    </section>
  </main>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    const headline = document.getElementById('headline');
    const sub = document.getElementById('sub');

    const params = new URLSearchParams(location.search);
    const forced = (params.get('lang') || '').toLowerCase();
    const nav = (navigator.language || navigator.userLanguage || 'tr').toLowerCase();

    // === Language Strings (20+ major locales) ===
    const map = {
      'tr': { h: 'YAKINDA HİZMETİNİZDEYİZ', s: 'Yeni web sitemizi hazırlıyoruz. Çok yakında buradayız.' },
      'en': { h: 'COMING SOON',              s: 'We are preparing our new website. See you soon.' },
      'de': { h: 'WIR SIND BALD FÜR SIE DA', s: 'Unsere neue Website wird bald verfügbar sein.' },
      'ru': { h: 'СКОРО МЫ БУДЕМ С ВАМИ',    s: 'Мы готовим наш новый сайт. Совсем скоро будем на связи.' },
      'ar': { h: 'قريباً في خدمتكم',         s: 'نحن نقوم بإعداد موقعنا الجديد. ترقبونا قريباً.' },
      'zh': { h: '即将为您服务',               s: '我们正在准备新网站，敬请期待。' },
      'zh-cn': { h: '即将为您服务',            s: '我们正在准备新网站，敬请期待。' },
      'zh-tw': { h: '即將為您服務',            s: '我們正在準備新網站，敬請期待。' },
      'fr': { h: 'BIENTÔT DISPONIBLE',        s: 'Nous préparons notre nouveau site web. À très bientôt.' },
      'es': { h: 'PRÓXIMAMENTE',              s: 'Estamos preparando nuestro nuevo sitio web. Nos vemos pronto.' },
      'pt': { h: 'EM BREVE',                  s: 'Estamos preparando nosso novo site. Até breve.' },
      'it': { h: 'PROSSIMAMENTE',             s: 'Stiamo preparando il nostro nuovo sito. A presto.' },
      'nl': { h: 'BINNENKORT BESCHIKBAAR',    s: 'We bereiden onze nieuwe website voor. Tot snel.' },
      'pl': { h: 'WKRÓTCE DOSTĘPNE',          s: 'Przygotowujemy naszą nową stronę. Do zobaczenia wkrótce.' },
      'uk': { h: 'СКОРО МИ БУДЕМО З ВАМИ',    s: 'Ми готуємо наш новий сайт. Зустрінемося незабаром.' },
      'ja': { h: '近日公開',                   s: '新しいウェブサイトを準備中です。もうすぐ公開します。' },
      'ko': { h: '곧 찾아뵙겠습니다',             s: '새 웹사이트를 준비 중입니다. 곧 만나뵙겠습니다.' },
      'fa': { h: 'به‌زودی در خدمتتان خواهیم بود', s: 'در حال آماده‌سازی وب‌سایت جدید هستیم. به‌زودی می‌بینیمتان.' },
      'hi': { h: 'जल्द ही आ रहे हैं',          s: 'हम अपनी नई वेबसाइट तैयार कर रहे हैं। जल्द मिलते हैं।' }
    };

    // Map country codes (IP) to a preferred language code
    function languageFromCountry(cc) {
      if (!cc) return null;
      cc = cc.toUpperCase();
      const groups = [
        { langs: ['tr'], countries: ['TR'] },
        { langs: ['en'], countries: ['US','GB','AU','NZ','IE','CA','SG'] },
        { langs: ['de'], countries: ['DE','AT','CH'] },
        { langs: ['fr'], countries: ['FR','BE','LU','CH'] },
        { langs: ['es'], countries: ['ES','MX','AR','CO','CL','PE'] },
        { langs: ['pt'], countries: ['PT','BR'] },
        { langs: ['it'], countries: ['IT'] },
        { langs: ['nl'], countries: ['NL'] },
        { langs: ['pl'], countries: ['PL'] },
        { langs: ['uk'], countries: ['UA'] },
        { langs: ['ru'], countries: ['RU','KZ','BY'] },
        { langs: ['ar'], countries: ['SA','AE','KW','QA','BH','OM','EG','MA'] },
        { langs: ['zh'], countries: ['CN','HK','MO'] },
        { langs: ['zh-tw'], countries: ['TW'] },
        { langs: ['ja'], countries: ['JP'] },
        { langs: ['ko'], countries: ['KR'] },
        { langs: ['fa'], countries: ['IR'] },
        { langs: ['hi'], countries: ['IN'] },
      ];
      for (const g of groups) if (g.countries.includes(cc)) return g.langs[0];
      return null;
    }

    function pickLocale(code){
      if(!code) return 'tr';
      code = code.toLowerCase();
      if(map[code]) return code;
      const base = code.split('-')[0];
      if(map[base]) return base;
      if(code.startsWith('zh')) return 'zh';
      return 'en';
    }

    async function detectLanguage() {
      // Priority: URL ?lang → IP country → browser locale
      if (forced) return pickLocale(forced);
      try {
        const res = await fetch('https://ipapi.co/json');
        const data = await res.json();
        const fromIP = languageFromCountry(data && data.country_code);
        if (fromIP) return pickLocale(fromIP);
      } catch (e) {}
      return pickLocale(nav);
    }

    detectLanguage().then(locale => {
      headline.textContent = map[locale].h;
      sub.textContent = map[locale].s;
      document.documentElement.setAttribute('lang', locale);
    });
  </script>
</body>
</html>
